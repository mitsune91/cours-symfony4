-- Doctrine Migration File Generated on 2019-08-26 12:59:22

-- Version 0
ALTER TABLE artiste ADD type VARCHAR(255) NOT NULL;
INSERT INTO migration_versions (version, executed_at) VALUES ('0', CURRENT_TIMESTAMP);

-- Version 20190826123435
ALTER TABLE events ADD artiste_id2 INT NOT NULL;
ALTER TABLE events ADD CONSTRAINT FK_5387574A21D25844 FOREIGN KEY (artiste_id2) REFERENCES artiste (id);
CREATE INDEX IDX_5387574A21D25844 ON events (artiste_id2);
INSERT INTO migration_versions (version, executed_at) VALUES ('20190826123435', CURRENT_TIMESTAMP);

-- Version 20190826123726
CREATE TABLE songs (id INT AUTO_INCREMENT NOT NULL, titre VARCHAR(255) NOT NULL, date_production DATETIME NOT NULL, presentation VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB;
CREATE TABLE songs_artiste (songs_id INT NOT NULL, artiste_id INT NOT NULL, INDEX IDX_2756F3CDC365A331 (songs_id), INDEX IDX_2756F3CD21D25844 (artiste_id), PRIMARY KEY(songs_id, artiste_id)) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci ENGINE = InnoDB;
ALTER TABLE songs_artiste ADD CONSTRAINT FK_2756F3CDC365A331 FOREIGN KEY (songs_id) REFERENCES songs (id) ON DELETE CASCADE;
ALTER TABLE songs_artiste ADD CONSTRAINT FK_2756F3CD21D25844 FOREIGN KEY (artiste_id) REFERENCES artiste (id) ON DELETE CASCADE;
ALTER TABLE events ADD CONSTRAINT FK_5387574A21D25844 FOREIGN KEY (artiste_id) REFERENCES artiste (id);
CREATE INDEX IDX_5387574A21D25844 ON events (artiste_id);
INSERT INTO migration_versions (version, executed_at) VALUES ('20190826123726', CURRENT_TIMESTAMP);

-- Version 20190826125723
ALTER TABLE events ADD CONSTRAINT FK_5387574A21D25844 FOREIGN KEY (artiste_id) REFERENCES artiste (id);
CREATE INDEX IDX_5387574A21D25844 ON events (artiste_id);
INSERT INTO migration_versions (version, executed_at) VALUES ('20190826125723', CURRENT_TIMESTAMP);
